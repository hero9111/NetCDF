# OceanoCal NetCDF Viewer

OceanoCal NetCDF Viewer는 과학 및 공학 분야에서 널리 사용되는 NetCDF(.nc) 및 HDF(.h5) 형식의 다차원 데이터를 시각화하고 탐색하기 위한 Python 기반 데스크톱 애플리케이션입니다. Panoply와 같은 기존 도구들의 장점을 벤치마킹하여 사용자 친화적인 인터페이스와 강력한 시각화 기능을 제공하는 것을 목표로 합니다.

## 주요 기능

* **파일 탐색 및 정보 표시:**
    * NetCDF(.nc) 및 HDF(.h5) 파일 열기 (다중 파일 동시 열기 지원).
    * 계층적 트리 뷰를 통한 데이터셋, 그룹, 변수 및 속성 탐색.
    * 파일 메타데이터, 전역 속성, 변수의 상세 정보(차원, 형태, 데이터 타입, 속성, 샘플 데이터 등) 표시.
* **다양한 플롯 유형:**
    * **2D 플롯:**
        * **히트맵(Heatmap):** 2차원 배열 데이터 시각화.
        * **라인 플롯(Line Plot):** 1차원 배열 데이터 (시계열 등) 시각화.
        * **지도 플롯(Map Plot):** 위도/경도 좌표를 가진 변수를 위한 기본적인 지리 공간 플롯 (Scattergeo 활용).
            * 해안선, 국경, 육지/바다 등 배경 지도 요소 표시 (Plotly 기본 기능).
            * 그리드 표시 옵션.
    * 다중 플롯을 위한 탭 인터페이스 지원.
* **플롯 사용자 정의:**
    * 플롯 제목, 축 라벨, 컬러바 라벨 텍스트 및 폰트/크기 수정.
    * 다양한 컬러맵 선택 가능.
    * 플롯 옵션 수정 후 실시간 반영 (일부).
* **사용자 편의 기능:**
    * 파일 경로 북마크 관리 (추가, 제거, 목록에서 열기).
    * 최근 열었던 파일 목록 제공.
    * 기본 애플리케이션 설정 (테마: Light/Dark, 기본 열기 경로, 지도 옵션 등) 저장 및 복원.
    * 상태 표시줄을 통한 작업 진행 상황 및 오류 메시지 표시.
* **기술 스택:**
    * Python 3
    * GUI: PyQt6
    * 플로팅: Plotly
    * 데이터 처리: xarray, netCDF4, h5py, NumPy, Pandas

## 설치 및 실행

1.  **사전 요구사항:**
    * Python 3.8 이상 권장

2.  **소스 코드 가져오기 (예시):**
    ```bash
    git clone https://your-repository-url/OceanoCalNetCDFViewer.git
    cd OceanoCalNetCDFViewer
    ```

3.  **필수 라이브러리 설치:**
    프로젝트 루트 디렉토리에서 다음 명령을 실행하여 필요한 라이브러리를 설치합니다.
    ```bash
    pip install -r requirements.txt
    ```

4.  **애플리케이션 실행:**
    `oceanocal_v2` 패키지가 포함된 디렉토리의 상위 디렉토리에서 다음 명령을 실행합니다.
    (예: `OceanoCalNetCDFViewer`가 프로젝트 루트라면, 해당 루트에서 실행)
    ```bash
    python -m oceanocal_v2
    ```
    또는 `OceanoCalNetCDFViewer` 디렉토리 내에서:
    ```bash
    python oceanocal_v2 # (만약 __main__.py가 최상위에 있다면)
    ```
    (제공된 구조에 따라 `python -m oceanocal_v2`가 더 적합합니다.)


## 디렉토리 구조 (주요 부분)

OceanoCalNetCDFViewer/
├── oceanocal_v2/              # 메인 애플리케이션 패키지
│   ├── init.py
│   ├── main.py            # 애플리케이션 진입점
│   ├── main_window.py         # 메인 윈도우 UI 및 로직
│   ├── panels.py              # 파일/변수 트리 및 정보 패널
│   ├── plot_manager.py        # Plotly 플롯 생성 및 관리
│   ├── plot_label_dialog.py   # 플롯 옵션 설정 대화상자
│   ├── dataset_manager.py     # NetCDF/HDF 파일 데이터 처리
│   ├── bookmarks.py           # 북마크 관리
│   ├── settings_manager.py    # 애플리케이션 설정 관리
│   ├── handlers/              # 이벤트 및 특정 로직 처리
│   │   ├── init.py
│   │   ├── plot_handler.py    # 플롯 요청 및 옵션 처리
│   │   └── file_handler.py    # (향후) 파일 관련 고급 처리
│   └── icons/                 # UI 아이콘 파일
├── readme.md                  # 이 파일
└── requirements.txt           # Python 라이브러리 요구사항

## 사용 방법 (기본 흐름)

1.  애플리케이션을 실행합니다.
2.  `파일` 메뉴 또는 툴바의 `파일 열기` 아이콘을 클릭하여 NetCDF(.nc) 또는 HDF(.h5) 파일을 선택합니다.
    * `폴더 열기`를 통해 특정 폴더 내의 모든 지원 파일을 트리에 추가할 수도 있습니다.
3.  왼쪽 패널의 트리 뷰에 파일과 그 안의 변수들이 표시됩니다.
4.  파일 또는 변수를 클릭하면 오른쪽 정보 패널에 해당 메타데이터 및 속성 정보가 나타납니다.
5.  트리 뷰에서 시각화할 변수를 더블 클릭합니다.
6.  플롯 옵션 대화상자가 나타나면 원하는 설정을 조정한 후 `확인`을 누릅니다.
    * 데이터 특성에 따라 히트맵, 라인 플롯 또는 지도 플롯이 자동으로 제안될 수 있습니다.
7.  메인 영역의 탭에 선택한 변수에 대한 플롯이 생성됩니다.
8.  `플롯` 메뉴 또는 툴바의 `플롯 옵션 수정` 아이콘을 통해 현재 활성화된 플롯의 옵션을 변경할 수 있습니다.
9.  `북마크` 메뉴를 통해 자주 사용하는 파일을 북마크에 추가하거나 열 수 있습니다.
10. `파일` > `환경 설정`에서 애플리케이션 테마 및 기타 기본 설정을 변경할 수 있습니다.

## 개발 계획 (요약)

이 프로젝트는 단계별 개발 계획에 따라 진행됩니다.

1.  **1단계:** 기본 신뢰성/유지보수 강화 및 구조화 (완료된 리팩토링 기반)
2.  **2단계:** 필수 기능 고도화 및 UI/UX 개선 (진행 중 - 정보 패널, 플롯 옵션, 메뉴 등)
3.  **3단계:** Panoply 대비 핵심 차별화/고급 기능 확장 (지도 기능 기초 구현, 향후 3D/애니메이션, 분석 기능 추가 예정)
4.  **4단계:** 안정성/사용성/확장성 (지속적인 로깅, 에러 핸들링, 도움말 기능 추가 예정)

## 기여 (Contribution)

OceanoCal NetCDF Viewer 프로젝트에 기여해주셔서 감사합니다! 버그를 보고하거나, 새로운 기능을 제안하거나, 코드 변경 사항을 직접 제출하는 등 다양한 방법으로 프로젝트에 참여할 수 있습니다.

**버그 보고:**

버그를 발견하면 GitHub 이슈 트래커를 통해 보고해주세요. 보고 시에는 다음 정보를 포함해주시면 문제 해결에 도움이 됩니다:
  - 사용 중인 운영 체제 및 버전
  - Python 버전
  - OceanoCal NetCDF Viewer 버전 (해당하는 경우)
  - 버그 발생을 위한 단계별 재현 절차
  - 예상 결과 및 실제 발생한 결과
  - 관련 스크린샷 또는 오류 메시지

**기능 제안:**

새로운 기능이나 개선 사항에 대한 아이디어가 있다면 GitHub 이슈 트래커를 통해 "feature request" 레이블을 사용하여 제안해주세요. 제안하는 기능과 그 필요성에 대해 자세히 설명해주시면 좋습니다.

**풀 리퀘스트 (Pull Requests):**

코드 변경 사항을 직접 기여하고 싶다면 다음 절차를 따라주세요:
1. 이 저장소를 포크(fork)합니다.
2. 새로운 기능이나 버그 수정을 위한 브랜치를 생성합니다. (예: `feature/amazing-feature` 또는 `fix/data-loading-bug`)
3. 코드를 변경하고, 변경 사항에 대한 테스트를 추가합니다 (해당하는 경우).
4. 변경 사항을 커밋합니다. 커밋 메시지는 명확하고 간결하게 작성해주세요.
5. 포크한 저장소의 해당 브랜치로 푸시합니다.
6. 원본 저장소에 풀 리퀘스트를 생성합니다. 풀 리퀘스트에는 변경 사항에 대한 자세한 설명과 관련 이슈 번호 (있는 경우)를 포함해주세요.

모든 기여는 검토 과정을 거치며, 프로젝트의 방향과 품질 기준에 부합하는 경우 병합됩니다.

문의 사항이 있거나 기여 과정에 도움이 필요하면 언제든지 프로젝트 관리자에게 연락해주세요.

## 라이선스 (License)

MIT 라이선스

Copyright (c) [연도] [저작권자명]

이하에 명시된 조건에 따라, 본 소프트웨어 및 관련 문서 파일(이하 "소프트웨어")의 사본을 취득하는 모든 사람에게 사용, 복사, 수정, 병합, 게시, 배포, 재라이선스 부여 및/또는 판매할 수 있는 권리를 포함하여, 소프트웨어를 제한 없이 취급할 수 있는 권한을 무료로 부여합니다. 단, 소프트웨어를 받는 사람도 다음 조건을 준수해야 합니다:

위 저작권 고지 및 본 허가 고지는 소프트웨어의 모든 사본 또는 주요 부분에 포함되어야 합니다.

소프트웨어는 상품성, 특정 목적에의 적합성 및 비침해에 대한 보증을 포함하되 이에 국한되지 않는 어떠한 종류의 명시적 또는 묵시적 보증 없이 "있는 그대로" 제공됩니다. 어떤 경우에도 저자 또는 저작권자는 계약, 불법 행위 또는 기타 방식이든 소프트웨어 또는 그 사용 또는 기타 거래와 관련하여 발생하거나 이와 관련하여 발생하는 모든 청구, 손해 또는 기타 책임에 대해 책임을 지지 않습니다.

---

**참고:** 위 라이선스 템플릿에서 `[연도]`와 `[저작권자명]`은 실제 프로젝트 정보로 수정해야 합니다. 예를 들어, `[연도]`는 프로젝트가 시작된 연도 또는 각 파일이 최종 수정된 연도가 될 수 있으며, `[저작권자명]`은 프로젝트를 소유한 개인 또는 조직의 이름이 됩니다. 만약 특별히 지정할 저작권자 명이 없다면, 프로젝트 명으로 대체하거나 삭제할 수도 있습니다. 사용자가 이 부분을 자신의 프로젝트에 맞게 수정할 수 있도록 안내하는 것이 좋습니다.
